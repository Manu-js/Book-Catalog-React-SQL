{"ast":null,"code":"import _defineProperty from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/manu/Desktop/React-Book-Catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/manu/Desktop/React-Book-Catalog/src/Components/Books/ModalEditBook/Index.js\";\nimport React, { Component } from \"react\";\nimport GenreList from \"../GenreList/Index\";\nimport AddGenre from \"../AddGenre/Index\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport \"./ModalEditBook.css\";\n\nvar ModalEditBook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalEditBook, _Component);\n\n  function ModalEditBook(props) {\n    var _this;\n\n    _classCallCheck(this, ModalEditBook);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalEditBook).call(this, props));\n    _this.state = {\n      open: false,\n      visibleView: false,\n      newBookData: {\n        tittle: \"\",\n        price: \"\",\n        genres: []\n      }\n    };\n\n    _this.handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.onBookUpdate = _this.onBookUpdate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteThisBook = _this.deleteThisBook.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddNewGenre = _this.handleAddNewGenre.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDeleteGenre = _this.handleDeleteGenre.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ModalEditBook, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var bookSelected = this.props.bookSelected;\n      this.setState({\n        newBookData: bookSelected\n      });\n    }\n  }, {\n    key: \"deleteThisBook\",\n    value: function deleteThisBook() {\n      var _this$props = this.props,\n          handleDeleteBook = _this$props.handleDeleteBook,\n          bookSelected = _this$props.bookSelected;\n      handleDeleteBook(bookSelected.idBooks);\n    }\n  }, {\n    key: \"onBookUpdate\",\n    value: function onBookUpdate(e) {\n      var handleModifyBook = this.props.handleModifyBook;\n      handleModifyBook(this.state.newBookData);\n      this.handleClose();\n    }\n  }, {\n    key: \"handleAddNewGenre\",\n    value: function handleAddNewGenre(text) {\n      this.setState(function (prevState) {\n        var newState = {\n          newBookData: _objectSpread({}, prevState.newBookData, {\n            genres: prevState.newBookData.genres.concat(text)\n          })\n        };\n        return newState;\n      });\n    }\n  }, {\n    key: \"updateInputValue\",\n    value: function updateInputValue(e) {\n      var newBookData = this.state.newBookData;\n      this.setState({\n        newBookData: _objectSpread({}, newBookData, _defineProperty({}, e.target.name, e.target.value))\n      });\n    }\n  }, {\n    key: \"handleDeleteGenre\",\n    value: function handleDeleteGenre(idBook, genre) {\n      this.setState(function (prevState) {\n        var newState = {\n          newBookData: _objectSpread({}, prevState.newBookData, {\n            genres: genre\n          })\n        };\n        return newState;\n      });\n    }\n  }, {\n    key: \"showNewGenre\",\n    value: function showNewGenre() {\n      this.setState({\n        visibleView: true\n      });\n    }\n  }, {\n    key: \"hideNewGenre\",\n    value: function hideNewGenre() {\n      this.setState({\n        visibleView: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var bookSelected = this.props.bookSelected;\n      return React.createElement(\"div\", {\n        className: \"editButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleClickOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(EditIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Modify Book\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"tittle\",\n        label: \"Tittle\",\n        name: \"tittle\",\n        value: this.state.newBookData.tittle,\n        onChange: function onChange(evt) {\n          return _this2.updateInputValue(evt);\n        },\n        margin: \"normal\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        type: \"number\",\n        id: \"price\",\n        label: \"Price\",\n        name: \"price\",\n        value: this.state.newBookData.price,\n        onChange: function onChange(evt) {\n          return _this2.updateInputValue(evt);\n        },\n        margin: \"normal\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(GenreList, {\n        selectBook: this.state.newBookData,\n        handleAddGenre: this.handleAddNewGenre,\n        handleDeleteGenre: this.handleDeleteGenre,\n        editOption: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(AddGenre, {\n        selectBook: this.state.newBookData,\n        handleAddGenre: this.handleAddNewGenre,\n        genres: this.state.newBookData.genres,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: this.deleteThisBook,\n        id: bookSelected.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Delete Book\"), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.onBookUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Accept\"))));\n    }\n  }]);\n\n  return ModalEditBook;\n}(Component);\n\nexport default ModalEditBook;","map":{"version":3,"sources":["/Users/manu/Desktop/React-Book-Catalog/src/Components/Books/ModalEditBook/Index.js"],"names":["React","Component","GenreList","AddGenre","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","EditIcon","ModalEditBook","props","state","open","visibleView","newBookData","tittle","price","genres","handleClickOpen","setState","handleClose","onBookUpdate","bind","deleteThisBook","handleAddNewGenre","handleDeleteGenre","bookSelected","handleDeleteBook","idBooks","e","handleModifyBook","text","prevState","newState","concat","target","name","value","idBook","genre","evt","updateInputValue","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport GenreList from \"../GenreList/Index\";\nimport AddGenre from \"../AddGenre/Index\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport \"./ModalEditBook.css\";\n\nclass ModalEditBook extends Component {\n  constructor(props) {\n    super(props);\n    this.onBookUpdate = this.onBookUpdate.bind(this);\n    this.deleteThisBook = this.deleteThisBook.bind(this);\n    this.handleAddNewGenre = this.handleAddNewGenre.bind(this);\n    this.handleDeleteGenre = this.handleDeleteGenre.bind(this);\n  }\n  state = {\n    open: false,\n    visibleView: false,\n    newBookData: {\n      tittle: \"\",\n      price: \"\",\n      genres: []\n    }\n  };\n\n  componentDidMount() {\n    const { bookSelected } = this.props;\n\n    this.setState({ newBookData: bookSelected });\n  }\n  deleteThisBook() {\n    const { handleDeleteBook, bookSelected } = this.props;\n    handleDeleteBook(bookSelected.idBooks);\n  }\n\n  onBookUpdate(e) {\n    const { handleModifyBook } = this.props;\n    handleModifyBook(this.state.newBookData);\n    this.handleClose();\n  }\n  handleAddNewGenre(text) {\n    this.setState(prevState => {\n      const newState = {\n        newBookData: {\n          ...prevState.newBookData,\n          genres: prevState.newBookData.genres.concat(text)\n        }\n      };\n      return newState;\n    });\n  }\n\n  updateInputValue(e) {\n    const { newBookData } = this.state;\n    this.setState({\n      newBookData: {\n        ...newBookData,\n        [e.target.name]: e.target.value\n      }\n    });\n  }\n  handleDeleteGenre(idBook, genre) {\n    this.setState(prevState => {\n      const newState = {\n        newBookData: {\n          ...prevState.newBookData,\n          genres: genre\n        }\n      };\n      return newState;\n    });\n  }\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  showNewGenre() {\n    this.setState({ visibleView: true });\n  }\n  hideNewGenre() {\n    this.setState({ visibleView: false });\n  }\n\n  render() {\n    const { bookSelected } = this.props;\n\n    return (\n      <div className=\"editButton\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.handleClickOpen}\n        >\n          <EditIcon />\n        </Button>\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Modify Book</DialogTitle>\n          <DialogContent>\n            <TextField\n              id=\"tittle\"\n              label=\"Tittle\"\n              name=\"tittle\"\n              value={this.state.newBookData.tittle}\n              onChange={evt => this.updateInputValue(evt)}\n              margin=\"normal\"\n              fullWidth\n            />\n            <TextField\n              type=\"number\"\n              id=\"price\"\n              label=\"Price\"\n              name=\"price\"\n              value={this.state.newBookData.price}\n              onChange={evt => this.updateInputValue(evt)}\n              margin=\"normal\"\n              fullWidth\n            />\n\n            <GenreList\n              selectBook={this.state.newBookData}\n              handleAddGenre={this.handleAddNewGenre}\n              handleDeleteGenre={this.handleDeleteGenre}\n              editOption={true}\n            />\n            <AddGenre\n              selectBook={this.state.newBookData}\n              handleAddGenre={this.handleAddNewGenre}\n              genres={this.state.newBookData.genres}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={this.deleteThisBook}\n              id={bookSelected.id}\n            >\n              Delete Book\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.onBookUpdate}\n            >\n              Accept\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default ModalEditBook;\n"]},"metadata":{},"sourceType":"module"}